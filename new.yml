ui:
  - &manager Manager
  - &guest Guest

services:
  - &inventory Inventory
  - &auth Auth
  - &payment Payment
  - &gps GPS

patters:
  - &command
  - &view
  - &automation
  - &translation

# Building blocks: Trigger, Event, Command, View, Automation, Translation
# Patterns: Command, View, Automation, Translation

# Command:          Trigger -> Command -> Event(s)
# View:             Event(s) -> View -> Trigger
# Automation:       Event(s) -> View -> Automation -> Command -> Event(s)
# Translation:      Event(s) -> View -> Translation -> Command -> Event(s) 

process:
  id: hotel_notification_system
  name: Hotel room booking system
  slices:
    - id: register
      pattern: *command
      trigger:
        name: Register
        ui: *guest
      command:
        name: Register
      event:
        name: Registered
        service: *auth

    - id: add_room
      pattern: *command
      trigger: 
        name: "Add\nRoom"
        ui: *manager
      command:
        name: "Add\nRoom"
      event:
        name: "Room\nAdded"
        service: *inventory
        
    - id: room_availability
      pattern: *view
      event:
        name: "Room\nAdded"
        service: *inventory
      view:
        name: "Room\nAvailability"
      trigger:
        name: "Room\nAvailability"
        ui: *guest

    - id: book_room
      pattern: *command
      trigger: 
        name: "Book\nRoom"
        ui: *guest
      command:
        name: "Book\nRoom"
      event:
        name: "Room\nBooked"
        service: *inventory
        
    - id: cleaning_schedule
      pattern: *view
      event:
        name: "Room\nBooked"
        service: *inventory
      view:
        name: "Cleaning\nSchedule"
      trigger:
        name: "Cleaning\nSchedule"
        ui: *manager

    - id: ready_room
      pattern: *command
      trigger:
        name: "Cleaning\nSchedule"
        ui: *manager
      command:
        name: "Ready\nRoom"
      event:
        name: "Room\nReadied"
        service: *inventory

    # - id: proximity
    #   pattern: command
    #   ui: *guest
    #   name: null
    #   service: *gps
    #   service_text: 
    #     - |
    #       Lat: 50.04836
    #       Long: 8.56790
    #     - |
    #       Lat: 51.04836 
    #       Long: 8.56790
    #     - |
    #       Lat: 50.04836 
    #       Long: 8.66790
    #     - |
    #       Lat: 51.04836
    #       Long: 8.66790
